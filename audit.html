<div id="audit-content">
   <div class="bg-white shadow overflow-hidden rounded-lg">
     <table class="min-w-full divide-y divide-gray-200">
       <thead class="bg-gray-50">
         <tr>
           <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Timestamp</th>
           <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">User</th>
           <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Action</th>
           <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Details</th>
         </tr>
       </thead>
       <tbody id="audit-table-body" class="bg-white divide-y divide-gray-200">
         <!-- Populated by JS -->
       </tbody>
     </table>
   </div>
</div>

<script>
function loadAuditLogs() {
  google.script.run.withSuccessHandler(renderAuditLogs).getAuditLogs();
}

function renderAuditLogs(logs) {
  const tbody = document.getElementById('audit-table-body');
  tbody.innerHTML = '';
  logs.reverse().forEach(log => {
    // 'Timestamp', 'User', 'Action', 'Details'
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${new Date(log.Timestamp).toLocaleString()}</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${log.User}</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">${log.Action}</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${log.Details}</td>
    `;
    tbody.appendChild(tr);
  });
}
</script>
